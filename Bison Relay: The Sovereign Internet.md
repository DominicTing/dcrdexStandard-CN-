# Bison Relay: 主权互联网

![](img/WX20221217-131225@2x.png)

来自 JAKE YOCOM-PIATT 

今天，我发布了一个新的基于 Decred 的通信工具，[Bison Relay](https://bisonrelay.org/)，它支持言论自由、自由联通，并且可以作为一个完全独立的网络替代堆栈。我在之前的文章中概述了[现如今网络的实质性问题](https://blog.decred.org/2022/12/09/Trapped-in-the-Web/). Bison Relay 是一种异步客户端-服务器协议，它大量使用 Decred 闪电网络（“LN”），其中发送的每条消息都经过加密、元数据最小化，并可以通过 LN 进行小额支付。Bison Relay 服务器是无账户的，每条消息都是单独处理的，在发送和接收之前都需要付费。Bison Relay 紧密集成了支付、消息传递和社交媒体，这个初始版本实现了类似于 Twitter/Facebook 的点对点功能，可以向订阅者发帖、订阅用户的帖子、转发帖子以及回复帖子和评论帖子。

在下面的概述中，将清晰的展示为什么言论自由需要这种基于微支付的架构。虽然 LN 有其自身的复杂性，但 Bison Relay 可以有效地取代上一篇文章中提到的 5 种协议和堆栈中的 4 种——DNS、HTTP、SMTP 和 TLS——其中现有的 Decred LN 和链上支付替代了法定支付基础设施。网络监控和审查的猖獗和侵略性表明网络迫切需要重新设计，而 Bison Relay 以基本对等加密内容中继网络的形式提供重新设计。使用非常少量的 Decred，例如 0.1 DCR，用户可以通过 Bison Relay 访问免费、主权和私人交流数月。

此初始版本适用于 Windows、MacOS 和 Linux 的图形用户界面（“GUI”）客户端和适用于大多数平台的命令行界面（“CLI”）客户端。

## 设计与论证

Bison Relay 是在假设有强大对手控制的基础设施主要组件的威胁模型下开发的，这是 Decred 主要功能的标准，例如权益证明治理、StakeShuffle 隐私或 DCRDEX 原子交换。指导 Bison Relay 架构的一个关键观察是服务器运营商对用户数据和元数据的保管被用来审查和监视用户，因此主要的方法是积极地减少服务器运营商对用户数据和元数据的可访问性和保管.

Bison Relay 的设计过程可以通过以下一系列观察清楚地描述：

- 假设服务器运营商是恶意的，并试图监视和审查客户。
- 根据许多其它聊天协议，默认情况下使用端到端加密（“E2EE”）来加密用户消息。这可以防止服务器操作员读取用户消息。
- 删除用户帐户的服务器概念，以最大限度地减少服务器操作员对元数据的跟踪。
- 将客户端消息元数据减少到最低限度。
- 如果服务器运营商无法将数据传输链接到特定客户端，它会阻止传统的恶意客户端禁令，从而产生拒绝服务（“DoS”）。
- 迭代垃圾信息接收方式，向所有用户收取每条发送和接收的消息的费用，费用是通过闪电网络支付的。
- 将服务器的复杂性降低到最低限度，其中服务器仅在接收发送的消息之前以及将消息转发给收件人之前检查是否已付款。
- 客户端通过带外（“OOB”）邀请或通过由他们共有的链接调解的邀请相互连接，例如，Alice 认识 Bob，Bob 认识 Carol，因此 Bob 将 Alice 介绍给 Carol。

构建 Bison Relay 大约花了 2 年时间，从 2020 年秋季开始，我提出了最初的概念，Marco Peereboom 和我完成了初始设计工作，Marco 完成了 CLI 客户端和服务器的所有早期开发。从有效的 CLI 概念验证到成品，包括所有 LN 支付集成、跨平台 GUI 和服务器后端重新设计，由 Miki Totefu、Dave Collins、David Hill 和 Alex Yocom 完成。Bison Relay 已经进行了几个月的私人 Beta 测试，只修复了一些bug并且其很稳定。

## 执行

Bison Relay 的动机和特点从上面应该已经比较清楚了，那么是时候从工程的角度来回顾一下这些主要特性是如何实现的了。

- Bison Relay 是使用我们现有的安全通信工具[zkc](https://github.com/companyzero/zkc/)中的代码构建的，其中的工作从删除客户帐户的客户端和服务器概念开始。相应地，Bison Relay 继承了[zkc的各种安全特性](https://blog.decred.org/2016/12/07/zkc-Secure-Communications/)，如双棘轮算法和标头加密、后量子安全公钥基础设施以及简单的 CLI 客户端和服务器。
- 为了限制针对服务器上的消息发送和接收路径的 DoS 攻击，每个此类操作都需要从客户端到服务器的预先进行相应的小额支付。
- 添加了一个用于客户端连接到新对等节点的新对等过程，其中对等节点之间的棘轮启动是通过 OOB 邀请或由 1 个或多个中间对等节点调解完成的，而不是使用服务器。

## 无帐户

从 zkc 中删除帐户有点棘手，因为 zkc 使用双棘轮算法来加密和解密所有消息。在 zkc 中，与大多数其它聊天协议一样，服务器将消息从用户 A 路由到用户 B，任何错过的消息都可能导致棘轮状态不同步并需要重置。我们决定使用棘轮状态作为每个消息唯一标识符的基础，因此已经在 2 个对等方之间共享的棘轮状态可以用作消息加密之外的路由基础。为此，我们从 Double Ratchet 获取标头加密密钥（每条消息都不是唯一的），并使用 HMAC 将其调整为每条消息唯一。通过获取每个消息的唯一标头加密密钥并对其进行哈希处理，我们可以为使用棘轮的两个对等方可以跟踪的每条消息派生出的一个唯一标识符。在[乔纳森·洛根](https://pca.st/7xws4p19)的报道中，黑市商品使用加密货币在线销售，投放地点随后向买家披露以供检索。

## 嵌入式闪电网络和按消息付费

一旦账户不再与消息相关联，客户端通过服务器上传和下载消息必须先通过闪电网络进行小额支付。如果这没有发生，恶意客户端可以以非常低的成本进行 DoS 攻击。上传的数据按字节付费，接收的消息按消息付费，因为在第一种情况下，磁盘空间是有限的资源，在第二种情况下，数据库负载会随着消息数的增加而增加。发送的消息由服务器存储 30 天，然后从其数据库 (PostgreSQL) 中清除，这可能会强制对一次离线超过 30 天的用户进行棘轮重置。

## P2P社交网络

典型的社交媒体或聊天服务有一个用户的数据库列表，因此用户 A 可以请求与用户 B 连接，并由服务器路由消息。由于我们设计了基于服务器的消息路由，而不是使用基于客户端的路由，因此客户端必须在不使用服务器“电话簿”（即查找表）的情况下相互连接。客户端可以通过 OOB 邀请进行连接，该邀请可以通过其它聊天或中继网络发送，最好是通过安全通道，或者直接使用中介密钥交换通过 Bison Relay 进行连接。这种中介密钥交换过程大致如下：

- Bob 与 Alice 和 Carol 保持联系，但 Alice 和 Carol 没有通过 Bison Relay 联系。
- Bob 发布了 Alice 和 Carol 都可以看到的内容。
- Alice 对帖子发表评论。
- Carol 看到 Alice 对该帖子的评论。
- Carol 决定启动中介密钥交换以直接与 Alice 连接。
- Bob 调解 Carol 与 Alice 请求的密钥交换。
- Carol 与 Alice 直接相连。

类似的过程可能发生在试图连接的 2 个对等节点之间存在的多个中间对等节点上。中介密钥交换通过恢复到会见人的“旧”空间模型，避免了对权威查找表的需要，在这种模型中，您通过已经认识的人被介绍给新人。

类似于在各种现有社交媒体平台上转发，客户可以将另一个客户的帖子“转发”给自己的关注者。如果多个客户端中继一系列中的单个帖子，则可能会发生上述情况，其中 2 个尝试连接的对等点之间存在多个中间对等点。

## 启示

Bison Relay 代表了通信平台运作方式的重大架构转变。这种架构有明显和更微妙的变化。

明显的:

- 可靠中立的社交媒体基础设施的受众可能会发现 Bison Relay 是一个有吸引力的选择。与几乎所有其它社交媒体平台不同，没有服务器运营商或中央计划人员可以任意关闭您的帐户。客户对其通信和网络拥有主权。
- 使用 Bison Relay 需要拥有少量的 Decred，例如 0.1 DCR。这将在以前不存在的更广泛的受众中产生对 Decred 的需求。
- 建立在 Bison Relay 上的网络具有监视和审查抵抗力，减少了许多源自恶意广告商、服务器运营商和政府行为的问题。
- 现有的 Bison Relay 客户端可用于通过邀请和在链上发送少量 Decred 来为新客户的渠道提供资金来吸引新客户。用户由他们的朋友和同事加入，将电信与用户现有的社交网络联系起来。
- Bison Relay 将推动 Decred LN 的增长和去中心化。就像互联网从几个节点开始一样，LN 集线器可以添加到更多位置以分散负载。

微妙的:

- 与大多数科技公司不同，我们不需要数十万或数百万的 Bison Relay 用户来大幅放大 Decred 的价值主张。Bison Relay 旨在通过口口相传来发展。只是不需要电话号码元数据且成本低的类似信号系统的前景是吸引人的。
- 大多数现有的网络基础设施都可以在 Bison Relay 上复制，例如页面、电子商务和付费订阅。这是一项正在进行的工作，在接下来的几周内应该会有一些东西可以展示。想想没有可疑平台费用和限制的实体、Patreon、Substack、Soundcloud 和 OnlyFans。
- Bison Relay 有意没有设置权威的命名系统。一旦有了公共目录，就不可能将垃圾邮件归因于来源。由于在 Bison Relay 中没有电话簿，垃圾邮件用户和垃圾邮件的路径总是可归因的。
- Decred 难以获得实质性的法定交易所上市，因此 Bison Relay 通过促进本地化购买 Decred（通过现金或其他方式）来绕过这一障碍。

很难捕捉到 Bison Relay 的所有各种含义，因此请随时通过[聊天室](https://chat.decred.org/)或[其它沟通渠道](https://decred.org/community/)与我们交流。

## 结论

Bison Relay 是我们多年的努力，旨在使用加密货币创建一个言论自由和自由联通的平台。早在 2017 年，我就懒洋洋地设想过，5 年后，我们有了一个具有漂亮用户界面的可用产品。自 2017 年秋季以来的这些年一直不愉快，因为我们通过恶意矿工操纵我们的市场、持续协调的拖钓活动、贸易媒体黑名单和严厉的 Twitter 审查而奋勇前进。随着 Bison Relay 的发布，Decred 和在其它平台上受到积极审查的任何其它个人或团体都可以开始建立自己的内容、思想和主权互联网。Decred 是货币进化而来的，Bison Relay 是互联网进化而来的。

加入我们的 [Bison Relay](https://bisonrelay.org/) 并建立您自己的主权互联网。The revolution will not be custodial, censored, or surveilled.
